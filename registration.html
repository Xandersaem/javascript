<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>Invitation Page</title>
    <link rel="stylesheet" type="text/css" href="css/main.css" />
	
<!--	
	<script type = "text/javascript">

	function formValidate()
	{
		var uName = document.registration.userName;
		var passID = document.registration.password;
		var passVerify = document.registration.passwordVerify;
		var fName = document.registration.firstName;
		var lName = document.registration.lastName;
		var userEmail = document.registration.email;
		var userPhone = document.registration.phoneNumber;
		
		if(id_validation(uName))
		{
			if(passid_validation(passID))
			{
				if(pass2_validation(passID,passVerify))
				{
					if(name_validation(fName))
					{
						if(name_validation(lName))
						{
							if(email_validation(userEmail))
							{
								if(phone_validation(userPhone))
								{
									document.forms["registration"].submit();
									setCookie("uName", uName.value,1);
									setCookie("passID", passID.value,1);
									setCookie("fName", fName.value,1);
									setCookie("lName", lName.value,1);
									setCookie("userEmail", userEmail.value,1);
									setCookie("userPhone", userPhone.value,1);
								}
							}
						}
					}
				}
			}
		}
		return false;
	}
	
	function id_validation(id)
	{
		var id_len = id.value.length;
		var num = /^[0-9a-zA-Z]+$/;
		if(id_len==0)
		{
			alert("User ID is empty");
			return false;
		}
		
		else if(id.value.match(num))
		{
			return true;
		}
		
		else 
		{
			alert("User Id should be alphanumeric");
			return false;
		}
	}
	
	function passid_validation(id)
	{
		var id_len = id.value.length;
		if(id_len==0)
		{
			alert("Passowrd is empty");
			return false;
		}
		
		else if (id_len <8)
		{
			alert("Password must be more than 8 characters");
			return false;
		}
		
		else 
			return true;
	}
	
	function pass2_validation(id,idCheck)
	{
		if(id.value == idCheck)
		{
			return true;
		}
		
		else 
		{
			alert("Passwords don't match");
			return false;
		}
	}
	
	function name_validation(name)
	{
		var legal = /^[A-Za-z]+$/;
		if(name.value.match(legal))
		{
			return true;
		}
		else
		{
			alert("First or Last name incorrect");
			return false;
		}
	}
	
	function email_validation(uEmail)
	{
		var format = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
		if (uEmail.value.match(format))
		{
			return true;
		}
		else 
		{
			alert("Email address is invalid");
			return false;
		}
	}
	
	function phone_validation(uPhone)
	{
		var phormat = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
		if(uPhone.match(phormat))
		{
			return true;
		}
		else 
		{
			alert("Enter the phone number with digits in this form: XXX XXX XXXX");
			return false;
		}
	}
	</script>
-->
</head>

<body onload="document.registration.userName.focus();">
    <header>
        <div class="top">
            <a class="logo" href="index.html">CapellaVolunteers<span class="dotcom">.org</span></a>
        </div>
        <nav>
            <ul class="topnav">
                <li><a href="index.html">Home</a>
                </li>
                <li><a href="invitation.html">Invitation</a>
                </li>
                <li><a href="gallery.html">Gallery</a>
                </li>
                <li><a href="registration.html" class="active">Registration</a>
                </li>
            </ul>

        </nav>
    </header>
    <section id="pageForm">
        <form method="#" action="interests.html" onsubmit="return MyFunction()">
            <label for="userName">Username:</label>
            <input type="text" id = "userName" name="userName" placeholder="Enter your Username" />
			<a id = uError /> 
 <p>
            <label for="Password">Password:</label>
            <input type="password" id="password" name="password" placeholder="Enter your Password" />
			<a id = pError /> 
 <p>
            <label for="passwordVerify">Verify your Password:</label>		
            <input type="password" id="passwordVerify" name="passwordVerify" placeholder="Enter in your Password again" />
			<a id = vError /> 
 <p>         
		    <label for="firstName">First Name:</label>
            <input type="text" id="firstName" name="firstName" placeholder="Enter your First Name" />
			<a id = fError /> 
 <p>
            <label for="hostName">Last Name:</label>
            <input type="text" id="lastName" name="lastName" placeholder="Enter your Last Name" /> 
			<a id = lError /> 
 <p>		
            <label for="email">Email:</label>
            <input type="text" id="email" name="email" placeholder="Enter your Email Address" />
			<a id = eError /> 
 <p>			
			<label for="phoneNumber">Phone Number </label>
            <input type="text" id="phoneNumber" name="phoneNumber" placeholder="Enter your Phone Number" />
			<a id = nError /> 
 <p>
			<label for="signUpNewsletter">Sign up for newsletter:</label>
			<input type="radio"  name="signUpNewsletter" value="Yes" > Yes 
			<input type="radio"  name="signUpNewsletter" value="No"> No
			<br>
			<a id = rError /> 
 <p>
            <input type="button" id="Submit" />
        </form>

			<p id="demo"></p>
    </section>
	
	<script>		
	
		function setCookie(cname, cvalue, exdays) {
			var d = new Date();
			d.setTime(d.getTime() + (exdays*24*60*60*1000));
			var expires = "expires="+ d.toUTCString();
			document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
		}
		
		function MyFunction() {

			var letters = /^[0-9a-zA-Z]+$/;
			var emailVal = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
			var phoneVal = /^(\()?\d{3}(\))?(-|\s)?\d{3}(-|\s)\d{4}$/ ;
			var outError = false; 
					
			document.getElementById("uError").innerHTML = "";
			document.getElementById("pError").innerHTML = "";
			document.getElementById("vError").innerHTML = "";
			document.getElementById("fError").innerHTML = "";
			document.getElementById("lError").innerHTML = "";
			document.getElementById("eError").innerHTML = "";
			document.getElementById("nError").innerHTML = "";// number error = nError p error take
			document.getElementById("rError").innerHTML = "";
			// resets my error 
					
			var uName     = document.getElementById("userName").value;
			var password  = document.getElementById("password").value;
			var vPassword = document.getElementById("passwordVerify").value;
			var fName     = String (document.getElementById("firstName").value);// cast to String
			var lName     = String (document.getElementById("lastName").value);// cast to String
			var email     = document.getElementById("email").value;
			var pNumber   = document.getElementById("phoneNumber").value;
			// the fields that change 
				
			if(!(uName.match(letters))) // check if only letter and  numbers
			{
				document.getElementById("uError").innerHTML = 
					"Username is invalid. Please choose a name containing only letters and numbers.";
				outError = true;
			}
			if(password.length < 8) // Check if password longer than 8
			{
				document.getElementById("pError").innerHTML = 
					"Password must be longer than 8 characters.";
				outError = true;
			}
			if(password != vPassword) // check if verification is identical
			{
				document.getElementById("vError").innerHTML = 
					"Passwords do not match. Please re-enter your desired password.";
				outError = true;
			}
			if (!(emailVal.test(email)))// check valid email 
			{
				document.getElementById("eError").innerHTML = 
					"Email is not in valid format. Please enter a valid email with format xxx@xxx.xxx";
				outError = true;
			}
			if (!(phoneVal.test(pNumber)))// check valid email 
			{
				document.getElementById("nError").innerHTML = 
					"Phone number is not valid. Please enter a valid number in (123)456-7890 format.";
				outError = true;
			}

			var newsletter = document.getElementsByName("signUpNewsletter");
			// get radio dial 
					
			for(i = 0; i < newsletter.length; i++) {
				if(newsletter[i].checked)
					var nLetter = newsletter[i].value;
			}
					// checks checked
			if ((nLetter != "Yes") && (nLetter != "No"))// error if no box is checked
			{
				document.getElementById("rError").innerHTML = 
					"Please select a box. Would you like our newsletter?";
				outError = true;
			}
					// validates if a box is checked no null 
			var output = "Hello ";			
			if (outError == true) {
				output = "Please correct all discrepancies above. Once fixed, press the button again to re-submit.";
				return false;
			}				
			else {
				setCookie("userName", uName, 365);
				setCookie("password", password, 365);
				setCookie("passwordVerify", vPassword, 365);
				setCookie("firstName", fName, 365);
				setCookie("lastName", lName, 365);
				setCookie("email", email, 365);
				setCookie("phoneNumber", pNumber, 365);
			}	
            document.getElementById("demo").innerHTML = output;
			return true;
		}
	</script>
    
	<footer>This events site is for IT-FP3215 tasks.</footer>
</body>

</html>
